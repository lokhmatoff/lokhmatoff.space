---
title: Очищаем неиспользуемые образы и вольюмы Docker
description: Экономим место на нашей рабочей системе, использующей Docker
aliases:
  - 240521-1757
  - Очищаем неиспользуемые образы и вольюмы Docker
date: 2024-05-21
uid: 240521-1757
tags:
  - permanent
  - docker
---
## Введение

Действиями ниже мы без всяких проблем сможем сэкономить гигабайты памяти на жёстком диске или SSD!

Основные источники замусоренности системы, использующей [[240502-1647|Docker]] — это этапы сборки образов и конечные образы, а также создаваемые и монтируемые файловые системы (вольюмы). Выполним их очистку...

> [!tip] Дополнительно
> При желании из команд, представленных ниже, можно сделать *bash-скрипт*, который можно поставить на автоматическое исполнение по расписанию, например, каждую неделю.

## Удаление неиспользуемых образов

Выполняем в линуксовом терминале команду ниже:

```bash
docker rmi $(docker images --quiet --filter "dangling=true")
```

Под неиспользуемыми образами понимаются как конечные монстры весом более 100 МБ, так и захешированные шаги сборки.

> [!example] Пример
> До выполнения команды у меня было 118 образов общим весом в *39,36 ГБ*. После — 97 образов с суммарным весом *32,56 ГБ*. Свободного места хватит на небольшую однопользовательскую игру, круто!

## Удаление неиспользуемых вольюмов

И снова нам пригодится наш *Bash* / *ZSH* / *fish* итп...

```bash
docker volume rm $(docker volume ls -f dangling=true -q)
```

> [!danger] Обратить особое внимание
> На момент написания заметки у меня было 98 вольюмов на *977,6 МБ*. Команда почистила мне все, что, в целом, для меня нестрашно, однако, советую быть крайне внимательным!

---

- [[240502-1647|Docker]]
